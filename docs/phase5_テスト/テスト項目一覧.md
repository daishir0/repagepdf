# テスト項目一覧（MECE）

## 概要
本ドキュメントは、要件定義書の機能要件(FR-001〜FR-019)からMECE（漏れなくダブりなく）に分解したテスト項目一覧です。

## ステータス
- **フェーズ**: テスト
- **作成日**: 2025-12-16
- **更新日**: 2025-12-16
- **作成者**: Claude (AIPM)
- **レビュー状況**: 完了

---

## MECE分解ルール

各機能要件(FR-xxx)に対して、以下の観点でテスト項目を網羅的に作成：

```
FR-xxx（機能要件）
├── 正常系テスト
│   ├── 基本操作（主要パス）
│   └── バリエーション（オプション入力あり/なし）
├── 異常系テスト
│   ├── 入力エラー（必須未入力、形式不正）
│   ├── 認証エラー（未ログイン、権限不足）
│   └── システムエラー（タイムアウト、サーバーエラー）
└── 境界値テスト
    ├── 最小値
    ├── 最大値
    └── 上限超過
```

---

## テスト項目一覧

### FR-001: ユーザー認証

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-001-01 | 正常系 | 正しい認証情報でログイン | 未ログイン状態 | メール/パスワード入力→ログインボタン | ダッシュボード（テンプレート一覧）表示 |
| TC-001-02 | 異常系 | 誤ったパスワードでログイン | 未ログイン状態 | 正しいメール/誤ったパスワード入力 | エラーメッセージ表示 |
| TC-001-03 | 異常系 | 未登録メールでログイン | 未ログイン状態 | 未登録メール入力 | エラーメッセージ表示 |
| TC-001-04 | 異常系 | 空のメールでログイン | 未ログイン状態 | メール空/パスワード入力 | バリデーションエラー |
| TC-001-05 | 異常系 | 空のパスワードでログイン | 未ログイン状態 | メール入力/パスワード空 | バリデーションエラー |
| TC-001-06 | 異常系 | 不正なメール形式 | 未ログイン状態 | 不正形式のメール入力 | バリデーションエラー |

### FR-002: セッション管理

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-002-01 | 正常系 | ログアウト | ログイン状態 | ログアウトボタンクリック | ログイン画面へリダイレクト |
| TC-002-02 | 正常系 | ログイン状態維持 | ログイン状態 | ページリロード | ログイン状態継続 |
| TC-002-03 | 異常系 | 未ログインでテンプレート一覧アクセス | 未ログイン状態 | /templates へ直接アクセス | ログイン画面へリダイレクト |
| TC-002-04 | 異常系 | 未ログインで設定画面アクセス | 未ログイン状態 | /settings へ直接アクセス | ログイン画面へリダイレクト |

### FR-003: テンプレート作成

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-003-01 | 正常系 | テンプレート作成（URL 1件） | ログイン状態 | 名前/URL1件入力→作成ボタン | テンプレート作成、学習開始 |
| TC-003-02 | 正常系 | テンプレート作成（URL 3件） | ログイン状態 | 名前/URL3件入力→作成ボタン | テンプレート作成、学習開始 |
| TC-003-03 | 異常系 | 名前未入力で作成 | ログイン状態 | URL のみ入力→作成ボタン | バリデーションエラー |
| TC-003-04 | 異常系 | URL未入力で作成 | ログイン状態 | 名前のみ入力→作成ボタン | バリデーションエラー |
| TC-003-05 | 異常系 | 無効なURL形式 | ログイン状態 | 無効なURL入力 | バリデーションエラー |
| TC-003-06 | 境界値 | テンプレート名最大長 | ログイン状態 | 255文字の名前入力 | 正常に作成 |
| TC-003-07 | 境界値 | テンプレート名超過 | ログイン状態 | 256文字以上の名前入力 | バリデーションエラー |

### FR-004: URL学習処理

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-004-01 | 正常系 | 有効なURLで学習 | テンプレート作成後 | 学習処理実行 | ルール生成完了 |
| TC-004-02 | 異常系 | 存在しないURLで学習 | テンプレート作成後 | 404エラーURL指定 | エラーメッセージ表示 |
| TC-004-03 | 異常系 | アクセス不可URLで学習 | テンプレート作成後 | タイムアウトURL指定 | タイムアウトエラー表示 |

### FR-005: テンプレート一覧

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-005-01 | 正常系 | テンプレート一覧表示 | ログイン状態、テンプレート存在 | 一覧画面アクセス | テンプレート一覧表示 |
| TC-005-02 | 正常系 | テンプレートなしで一覧表示 | ログイン状態、テンプレートなし | 一覧画面アクセス | 空状態メッセージ表示 |
| TC-005-03 | 正常系 | テンプレート詳細へ遷移 | ログイン状態、テンプレート存在 | テンプレートカードクリック | 詳細画面表示 |

### FR-006: テンプレート削除

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-006-01 | 正常系 | テンプレート削除 | テンプレート存在 | 削除ボタン→確認→削除 | 一覧から削除 |
| TC-006-02 | 正常系 | 削除キャンセル | テンプレート存在 | 削除ボタン→キャンセル | 削除されない |
| TC-006-03 | 異常系 | 存在しないテンプレート削除 | テンプレートなし | API直接呼び出し | 404エラー |

### FR-007: PDFアップロード

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-007-01 | 正常系 | 小サイズPDFアップロード | テンプレート選択済み | 1MB PDF選択→アップロード | アップロード成功、変換開始 |
| TC-007-02 | 正常系 | 中サイズPDFアップロード | テンプレート選択済み | 10MB PDF選択→アップロード | アップロード成功、変換開始 |
| TC-007-03 | 境界値 | 50MB上限PDFアップロード | テンプレート選択済み | 50MB PDF選択→アップロード | アップロード成功 |
| TC-007-04 | 境界値 | 50MB超過PDFアップロード | テンプレート選択済み | 51MB PDF選択→アップロード | エラーメッセージ表示 |
| TC-007-05 | 異常系 | PDF以外のファイルアップロード | テンプレート選択済み | .txt/.jpg等を選択 | エラーメッセージ表示 |
| TC-007-06 | 異常系 | 破損PDFアップロード | テンプレート選択済み | 破損PDFを選択 | エラーメッセージ表示 |
| TC-007-07 | 境界値 | 100ページPDFアップロード | テンプレート選択済み | 100ページPDF | アップロード成功 |
| TC-007-08 | 境界値 | 101ページPDFアップロード | テンプレート選択済み | 101ページPDF | 警告またはエラー |

### FR-008: PDF解析

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-008-01 | 正常系 | テキストPDF解析 | PDFアップロード済み | 変換実行 | テキスト正常抽出 |
| TC-008-02 | 正常系 | 画像含むPDF解析 | 画像含むPDFアップロード済み | 変換実行 | 画像正常抽出 |
| TC-008-03 | 正常系 | 表含むPDF解析 | 表含むPDFアップロード済み | 変換実行 | 表構造正常抽出 |
| TC-008-04 | 異常系 | スキャンPDF解析 | スキャンPDFアップロード済み | 変換実行 | OCR処理または警告表示 |

### FR-009: 不要要素除外

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-009-01 | 正常系 | ページ番号除外 | ページ番号付きPDF | 変換実行 | ページ番号なしHTML生成 |
| TC-009-02 | 正常系 | ヘッダー/フッター除外 | ヘッダー/フッター付きPDF | 変換実行 | ヘッダー/フッターなしHTML |
| TC-009-03 | 正常系 | 目次ページ番号除外 | 目次付きPDF | 変換実行 | 目次内ページ番号除外 |

### FR-010: 画像抽出

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-010-01 | 正常系 | 単一画像抽出 | 画像1枚含むPDF | 変換実行 | 画像ファイル生成 |
| TC-010-02 | 正常系 | 複数画像抽出 | 画像複数含むPDF | 変換実行 | 全画像ファイル生成 |
| TC-010-03 | 正常系 | 高解像度画像抽出 | 高解像度画像PDF | 変換実行 | 適切サイズで画像生成 |

### FR-011: 表変換

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-011-01 | 正常系 | 単純な表変換 | シンプルな表PDF | 変換実行 | HTMLテーブル生成 |
| TC-011-02 | 正常系 | 結合セル表変換 | 結合セル表PDF | 変換実行 | colspan/rowspan正常 |
| TC-011-03 | 正常系 | 複数表変換 | 複数表PDF | 変換実行 | 全表をHTMLテーブル化 |
| TC-011-04 | 異常系 | 複雑レイアウト表 | 複雑な表PDF | 変換実行 | 警告表示または近似変換 |

### FR-012: HTML生成

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-012-01 | 正常系 | テンプレートルール適用HTML生成 | テンプレート/PDF準備済み | 変換実行 | テンプレートルール適用HTML |
| TC-012-02 | 正常系 | LLMによるHTML生成 | PDF準備済み | 変換実行 | 構造化HTML生成 |
| TC-012-03 | 異常系 | APIキー未設定 | APIキーなし | 変換実行 | エラーメッセージ表示 |

### FR-013: 比較画面

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-013-01 | 正常系 | 左右比較表示 | 変換完了 | 変換結果画面アクセス | PDF/HTML左右表示 |
| TC-013-02 | 正常系 | PDFページ送り | 複数ページPDF変換後 | ページ送りボタン | 対応ページ表示 |

### FR-014: HTML手動編集

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-014-01 | 正常系 | HTML編集 | 変換完了 | HTMLコード編集 | リアルタイムプレビュー更新 |
| TC-014-02 | 正常系 | 編集内容保存 | HTML編集後 | 保存ボタン | 編集内容保存 |

### FR-015: 承認機能

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-015-01 | 正常系 | 変換結果承認 | 変換完了 | 承認ボタンクリック | ステータス「承認済み」 |
| TC-015-02 | 正常系 | 承認取消 | 承認済み | 承認取消ボタン | ステータス「未承認」 |

### FR-016: HTMLダウンロード

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-016-01 | 正常系 | HTMLファイルダウンロード | 変換完了 | ダウンロードボタン | .htmlファイルダウンロード |
| TC-016-02 | 正常系 | ダウンロードファイル内容確認 | ダウンロード完了 | ファイル開く | 正しいHTML内容 |

### FR-017: HTMLコピー

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-017-01 | 正常系 | クリップボードコピー | 変換完了 | コピーボタン | クリップボードにコピー |
| TC-017-02 | 正常系 | コピー内容確認 | コピー完了 | 別アプリに貼り付け | 正しいHTML内容 |

### FR-018: コンバーター設定

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-018-01 | 正常系 | コンバーター一覧表示 | ログイン状態 | 設定画面アクセス | コンバーター一覧表示 |
| TC-018-02 | 正常系 | デフォルトコンバーター設定 | ログイン状態 | コンバーター選択→保存 | 設定保存 |
| TC-018-03 | 正常系 | APIキー設定 | ログイン状態 | APIキー入力→保存 | 暗号化して保存 |

### FR-019: コンバーター切替

| テストID | カテゴリ | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|----------|----------|-----------|----------|----------|----------|
| TC-019-01 | 正常系 | PyMuPDFで変換 | PyMuPDF選択 | PDF変換実行 | PyMuPDFで処理 |
| TC-019-02 | 正常系 | pdfplumberで変換 | pdfplumber選択 | PDF変換実行 | pdfplumberで処理 |
| TC-019-03 | 正常系 | OpenAI Visionで変換 | OpenAI選択/APIキー設定済み | PDF変換実行 | OpenAI Visionで処理 |
| TC-019-04 | 正常系 | Claude Visionで変換 | Claude選択/APIキー設定済み | PDF変換実行 | Claude Visionで処理 |

---

## 集計

| カテゴリ | 件数 |
|---------|------|
| 正常系 | 45件 |
| 異常系 | 22件 |
| 境界値 | 7件 |
| **合計** | **74件** |

### 要件別件数

| 要件ID | 要件名 | 件数 |
|--------|--------|------|
| FR-001 | ユーザー認証 | 6件 |
| FR-002 | セッション管理 | 4件 |
| FR-003 | テンプレート作成 | 7件 |
| FR-004 | URL学習処理 | 3件 |
| FR-005 | テンプレート一覧 | 3件 |
| FR-006 | テンプレート削除 | 3件 |
| FR-007 | PDFアップロード | 8件 |
| FR-008 | PDF解析 | 4件 |
| FR-009 | 不要要素除外 | 3件 |
| FR-010 | 画像抽出 | 3件 |
| FR-011 | 表変換 | 4件 |
| FR-012 | HTML生成 | 3件 |
| FR-013 | 比較画面 | 2件 |
| FR-014 | HTML手動編集 | 2件 |
| FR-015 | 承認機能 | 2件 |
| FR-016 | HTMLダウンロード | 2件 |
| FR-017 | HTMLコピー | 2件 |
| FR-018 | コンバーター設定 | 3件 |
| FR-019 | コンバーター切替 | 4件 |

---

## E2Eテスト優先度

### 優先度高（Phase 5で必須実施）

| テストID | 要件 | 理由 |
|----------|------|------|
| TC-001-01〜06 | ユーザー認証 | 基本機能、セキュリティ |
| TC-002-01〜04 | セッション管理 | 基本機能、セキュリティ |
| TC-003-01〜05 | テンプレート作成 | コア機能 |
| TC-005-01〜03 | テンプレート一覧 | コア機能 |
| TC-007-01〜05 | PDFアップロード | コア機能 |
| TC-018-01〜03 | コンバーター設定 | 設定機能 |

### 優先度中（Phase 5で可能な範囲で実施）

| テストID | 要件 | 理由 |
|----------|------|------|
| TC-006-01〜03 | テンプレート削除 | 補助機能 |
| TC-013-01〜02 | 比較画面 | UI機能 |
| TC-014-01〜02 | HTML手動編集 | UI機能 |
| TC-015-01〜02 | 承認機能 | 補助機能 |
| TC-016-01〜02 | HTMLダウンロード | 出力機能 |
| TC-017-01〜02 | HTMLコピー | 出力機能 |

### 優先度低（手動確認または将来実施）

| テストID | 要件 | 理由 |
|----------|------|------|
| TC-004-01〜03 | URL学習処理 | 外部依存、手動確認推奨 |
| TC-008-01〜04 | PDF解析 | コンバーター依存 |
| TC-009-01〜03 | 不要要素除外 | AI依存 |
| TC-010-01〜03 | 画像抽出 | コンバーター依存 |
| TC-011-01〜04 | 表変換 | コンバーター依存 |
| TC-012-01〜03 | HTML生成 | AI依存 |
| TC-019-01〜04 | コンバーター切替 | 各コンバーター個別確認 |

---

## 変更履歴

| 日付 | 版 | 変更内容 | 変更者 |
|------|-----|----------|--------|
| 2025-12-16 | 1.0 | 初版作成 | Claude (AIPM) |

---

## AIレビュー結果
- レビュー日: 2025-12-16
- レビュアー: Claude (AIPM)
- 結果: **適切**
- コメント: FR-001〜FR-019の全19要件を74件のテストケースにMECE分解。正常系・異常系・境界値を網羅。E2E優先度を設定し、効率的なテスト実施が可能。
